!function(){"use strict";const e=(e,t,o)=>{const n=e.querySelector(`#${t.id}-error`);t.classList.remove(o.inputErrorClass),n&&(n.textContent="",n.classList.remove(o.errorClass))},t=(e,t,n)=>{(e=>e.some(e=>!e.validity.valid))(e)?o(t,n):(t.classList.remove(n.inactiveButtonClass),t.disabled=!1)},o=(e,t)=>{e.classList.add(t.inactiveButtonClass),e.disabled=!0},n={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-btn",inactiveButtonClass:"disabledBtn",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},r=document.querySelector(".profile__edit-btn"),s=document.querySelector("#edit-profile-modal"),c=(s.querySelector(".modal__close-btn"),s.querySelector(".modal__form")),a=s.querySelector("#profile-name-input"),l=s.querySelector("#profile-description-input"),i=document.querySelector(".profile__new-post-btn"),u=document.querySelector("#new-post-modal"),d=u.querySelector(".modal__submit-btn"),m=(u.querySelector(".modal__close-btn"),u.querySelector(".modal__form")),p=document.querySelector(".profile__name"),_=document.querySelector(".profile__description"),y=u.querySelector("#card-image-input"),f=u.querySelector("#card-caption-input"),S=document.querySelector("#card-template"),v=document.querySelector(".cards__list"),q=document.querySelector("#preview-modal"),g=(q.querySelector(".modal__close-btn"),q.querySelector(".modal__image")),b=q.querySelector(".modal__caption");function h(e){const t=S.content.querySelector(".card").cloneNode(!0),o=t.querySelector(".card__title"),n=t.querySelector(".card__image");n.src=e.link,n.alt=e.name,o.textContent=e.name;const r=t.querySelector(".card__like-btn");return r.addEventListener("click",()=>{r.classList.toggle("card__like-btn_active")}),t.querySelector(".card__delete-btn").addEventListener("click",()=>{t.remove()}),n.addEventListener("click",()=>{g.src=e.link,g.alt=e.name,b.textContent=e.name,k(q)}),t}function w(e){if("Escape"===e.key){const e=document.querySelector(".modal_is-opened");e&&L(e)}}function k(e){e.classList.add("modal_is-opened"),document.addEventListener("keydown",w),document.addEventListener("click",E)}function L(e){e.classList.remove("modal_is-opened"),document.removeEventListener("click",E),document.removeEventListener("keydown",w)}document.querySelector(".error"),document.querySelector(".error__message"),r.addEventListener("click",function(){a.value=p.textContent,l.value=_.textContent,((o,n,r)=>{n.forEach(t=>{e(o,t,r)});const s=o.querySelector(r.submitButtonSelector);t(n,s,r)})(c,[a,l],n),k(s)}),i.addEventListener("click",function(){k(u)}),document.querySelectorAll(".modal__close-btn").forEach(e=>{const t=e.closest(".modal");e.addEventListener("click",()=>L(t))}),s.addEventListener("submit",function(e){e.preventDefault(e);const t={name:a.value,description:l.value};p.textContent=t.name,_.textContent=t.description,L(s)}),u.addEventListener("submit",function(e){e.preventDefault(e);const t=h({name:f.value,link:y.value});v.prepend(t),m.reset(),o(d,n),L(u)}),[{name:"Golden Gate Bridge",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/7-photo-by-griffin-wooldridge-from-pexels.jpg"},{name:"Val Thorens",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/1-photo-by-moritz-feldmann-from-pexels.jpg"},{name:"Restaurant terrace",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/2-photo-by-ceiline-from-pexels.jpg"},{name:"An outdoor cafe",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/3-photo-by-tubanur-dogan-from-pexels.jpg"},{name:"A very long bridge, over the forest and through the trees",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/4-photo-by-maurice-laschet-from-pexels.jpg"},{name:"Tunnel with morning light",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/5-photo-by-van-anh-nguyen-from-pexels.jpg"},{name:"Mountain house",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/6-photo-by-moritz-feldmann-from-pexels.jpg"}].forEach(e=>{const t=h(e);v.append(t)});const E=e=>{e.target.classList.contains("modal")&&L(e.target)};(o=>{document.querySelectorAll(o.formSelector).forEach(n=>{((o,n)=>{const r=Array.from(o.querySelectorAll(n.inputSelector)),s=o.querySelector(n.submitButtonSelector);t(r,s,n),r.forEach(c=>{c.addEventListener("input",function(){((t,o,n)=>{o.validity.valid?e(t,o,n):((e,t,o,n)=>{const r=e.querySelector(`#${t.id}-error`);t.classList.add(n.inputErrorClass),r&&(r.textContent=o,r.classList.add(n.errorClass))})(t,o,o.validationMessage,n)})(o,c,n),t(r,s,n)})})})(n,o)})})(n)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FDSXRGLEVBQ0FDLEVBQ0FBLEVBQVF1RixrQkFDUnRGLElBK0NBbUYsQ0FBbUJyRixFQUFRQyxFQUFTQyxHQUNwQ1MsRUFBa0JDLEVBQVdDLEVBQVVYLEVBQzNDLE1BT0FnRixDQUFrQmxGLEVBQVFFLE1DaUhsQ3VGLENBQWlCdkYsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvc2NyaXB0cy92YWxpZGF0aW9uLmpzIiwid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc2hvd0lucHV0RXJyb3IgPSAoZm9ybUVsLCBpbnB1dEVsLCBlcnJvck1zZywgdmFsaWRhdGlvbkNvbmZpZykgPT4ge1xyXG4gICAgY29uc3QgZXJyb3JFbCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHZhbGlkYXRpb25Db25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGlmIChlcnJvckVsKSB7XHJcbiAgICAgICAgZXJyb3JFbC50ZXh0Q29udGVudCA9IGVycm9yTXNnO1xyXG4gICAgICAgIGVycm9yRWwuY2xhc3NMaXN0LmFkZCh2YWxpZGF0aW9uQ29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3QgaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsLCBpbnB1dEVsLCB2YWxpZGF0aW9uQ29uZmlnKSA9PiB7XHJcbiAgICBjb25zdCBlcnJvckVsID0gZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUodmFsaWRhdGlvbkNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgaWYgKGVycm9yRWwpIHtcclxuICAgICAgICBlcnJvckVsLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgICAgICBlcnJvckVsLmNsYXNzTGlzdC5yZW1vdmUodmFsaWRhdGlvbkNvbmZpZy5lcnJvckNsYXNzKTtcclxuICAgIH1cclxufTtcclxuXHJcbmNvbnN0IGNoZWNrSW5wdXRWYWxpZGl0eSA9IChmb3JtRWwsIGlucHV0RWwsIHZhbGlkYXRpb25Db25maWcpID0+IHtcclxuICAgIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgIHNob3dJbnB1dEVycm9yKFxyXG4gICAgICAgICAgICBmb3JtRWwsXHJcbiAgICAgICAgICAgIGlucHV0RWwsXHJcbiAgICAgICAgICAgIGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2UsXHJcbiAgICAgICAgICAgIHZhbGlkYXRpb25Db25maWdcclxuICAgICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWwsIGlucHV0RWwsIHZhbGlkYXRpb25Db25maWcpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3QgaGFzSW52YWxpZElucHV0ID0gKGlucHV0TGlzdCkgPT4ge1xyXG4gICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsKSA9PiAhaW5wdXRFbC52YWxpZGl0eS52YWxpZCk7XHJcbn07XHJcblxyXG5jb25zdCB0b2dnbGVCdXR0b25TdGF0ZSA9IChpbnB1dExpc3QsIGJ1dHRvbkVsLCB2YWxpZGF0aW9uQ29uZmlnKSA9PiB7XHJcbiAgICBpZiAoaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcclxuICAgICAgICBkaXNhYmxlZEJ0bihidXR0b25FbCwgdmFsaWRhdGlvbkNvbmZpZyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJ1dHRvbkVsLmNsYXNzTGlzdC5yZW1vdmUodmFsaWRhdGlvbkNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgICBidXR0b25FbC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3QgZGlzYWJsZWRCdG4gPSAoYnV0dG9uRWwsIHZhbGlkYXRpb25Db25maWcpID0+IHtcclxuICAgIGJ1dHRvbkVsLmNsYXNzTGlzdC5hZGQodmFsaWRhdGlvbkNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIGJ1dHRvbkVsLmRpc2FibGVkID0gdHJ1ZTtcclxufTtcclxuXHJcbmNvbnN0IHJlc2V0VmFsaWRhdGlvbiA9IChmb3JtRWwsIGlucHV0TGlzdCwgdmFsaWRhdGlvbkNvbmZpZykgPT4ge1xyXG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWwpID0+IHtcclxuICAgICAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWwsIGlucHV0RWwsIHZhbGlkYXRpb25Db25maWcpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBidXR0b25FbCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIHZhbGlkYXRpb25Db25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcbiAgICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsLCB2YWxpZGF0aW9uQ29uZmlnKTtcclxufTtcclxuXHJcbmNvbnN0IHNldEV2ZW50TGlzdGVuZXJzID0gKGZvcm1FbCwgdmFsaWRhdGlvbkNvbmZpZykgPT4ge1xyXG4gICAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgICBmb3JtRWwucXVlcnlTZWxlY3RvckFsbCh2YWxpZGF0aW9uQ29uZmlnLmlucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gICAgY29uc3QgYnV0dG9uRWwgPSBmb3JtRWwucXVlcnlTZWxlY3RvcihcclxuICAgICAgICB2YWxpZGF0aW9uQ29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG5cclxuICAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWwsIHZhbGlkYXRpb25Db25maWcpO1xyXG5cclxuICAgIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XHJcbiAgICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjaGVja0lucHV0VmFsaWRpdHkoZm9ybUVsLCBpbnB1dEVsLCB2YWxpZGF0aW9uQ29uZmlnKTtcclxuICAgICAgICAgICAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbCwgdmFsaWRhdGlvbkNvbmZpZyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAodmFsaWRhdGlvbkNvbmZpZykgPT4ge1xyXG4gICAgY29uc3QgZm9ybUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHZhbGlkYXRpb25Db25maWcuZm9ybVNlbGVjdG9yKTtcclxuICAgIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbCkgPT4ge1xyXG4gICAgICAgIHNldEV2ZW50TGlzdGVuZXJzKGZvcm1FbCwgdmFsaWRhdGlvbkNvbmZpZyk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXHJcbiAgICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fc3VibWl0LWJ0blwiLFxyXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJkaXNhYmxlZEJ0blwiLFxyXG4gICAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCIsXHJcbn07XHJcblxyXG5leHBvcnQge1xyXG4gICAgc2hvd0lucHV0RXJyb3IsXHJcbiAgICBoaWRlSW5wdXRFcnJvcixcclxuICAgIGNoZWNrSW5wdXRWYWxpZGl0eSxcclxuICAgIGhhc0ludmFsaWRJbnB1dCxcclxuICAgIHRvZ2dsZUJ1dHRvblN0YXRlLFxyXG4gICAgZGlzYWJsZWRCdG4sXHJcbiAgICByZXNldFZhbGlkYXRpb24sXHJcbiAgICBzZXRFdmVudExpc3RlbmVycyxcclxuICAgIGVuYWJsZVZhbGlkYXRpb24sXHJcbiAgICB2YWxpZGF0aW9uQ29uZmlnLFxyXG59O1xyXG4iLCJpbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcclxuaW1wb3J0IHtcclxuICAgIGVuYWJsZVZhbGlkYXRpb24sXHJcbiAgICB2YWxpZGF0aW9uQ29uZmlnLFxyXG4gICAgcmVzZXRWYWxpZGF0aW9uLFxyXG4gICAgZGlzYWJsZWRCdG4sXHJcbiAgICB0b2dnbGVCdXR0b25TdGF0ZSxcclxuICAgIGNoZWNrSW5wdXRWYWxpZGl0eSxcclxuICAgIHNob3dJbnB1dEVycm9yLFxyXG4gICAgaGlkZUlucHV0RXJyb3IsXHJcbiAgICBoYXNJbnZhbGlkSW5wdXQsXHJcbiAgICBzZXRFdmVudExpc3RlbmVycyxcclxufSBmcm9tIFwiLi4vc2NyaXB0cy92YWxpZGF0aW9uLmpzXCI7XHJcblxyXG5jb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogXCJHb2xkZW4gR2F0ZSBCcmlkZ2VcIixcclxuICAgICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvNy1waG90by1ieS1ncmlmZmluLXdvb2xkcmlkZ2UtZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6IFwiVmFsIFRob3JlbnNcIixcclxuICAgICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvMS1waG90by1ieS1tb3JpdHotZmVsZG1hbm4tZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6IFwiUmVzdGF1cmFudCB0ZXJyYWNlXCIsXHJcbiAgICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzItcGhvdG8tYnktY2VpbGluZS1mcm9tLXBleGVscy5qcGdcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogXCJBbiBvdXRkb29yIGNhZmVcIixcclxuICAgICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvMy1waG90by1ieS10dWJhbnVyLWRvZ2FuLWZyb20tcGV4ZWxzLmpwZ1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiBcIkEgdmVyeSBsb25nIGJyaWRnZSwgb3ZlciB0aGUgZm9yZXN0IGFuZCB0aHJvdWdoIHRoZSB0cmVlc1wiLFxyXG4gICAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9zcG90cy80LXBob3RvLWJ5LW1hdXJpY2UtbGFzY2hldC1mcm9tLXBleGVscy5qcGdcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogXCJUdW5uZWwgd2l0aCBtb3JuaW5nIGxpZ2h0XCIsXHJcbiAgICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzUtcGhvdG8tYnktdmFuLWFuaC1uZ3V5ZW4tZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6IFwiTW91bnRhaW4gaG91c2VcIixcclxuICAgICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvNi1waG90by1ieS1tb3JpdHotZmVsZG1hbm4tZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgICB9LFxyXG5dO1xyXG5cclxuY29uc3QgZWRpdFByb2ZpbGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnRuXCIpO1xyXG5jb25zdCBlZGl0UHJvZmlsZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LXByb2ZpbGUtbW9kYWxcIik7XHJcbmNvbnN0IGVkaXRQcm9maWxlQ2xvc2VCdG4gPSBlZGl0UHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcclxuY29uc3QgZWRpdFByb2ZpbGVGb3JtID0gZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG5jb25zdCBlZGl0UHJvZmlsZU5hbWVJbnB1dCA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI3Byb2ZpbGUtbmFtZS1pbnB1dFwiXHJcbik7XHJcbmNvbnN0IGVkaXRQcm9maWxlRGVzY3JpcHRpb25JbnB1dCA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI3Byb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIlxyXG4pO1xyXG5cclxuY29uc3QgbmV3UG9zdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmV3LXBvc3QtYnRuXCIpO1xyXG5jb25zdCBuZXdQb3N0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25ldy1wb3N0LW1vZGFsXCIpO1xyXG5jb25zdCBuZXdQb3N0U3VibWl0QnRuID0gbmV3UG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdC1idG5cIik7XHJcbmNvbnN0IG5ld1Bvc3RDbG9zZUJ0biA9IG5ld1Bvc3RNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZS1idG5cIik7XHJcbmNvbnN0IG5ld1Bvc3RGb3JtID0gbmV3UG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcblxyXG5jb25zdCBwcm9maWxlTmFtZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xyXG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb25FbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XHJcblxyXG5jb25zdCBuZXdQb3N0SW1hZ2VJbnB1dCA9IG5ld1Bvc3RNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtaW1hZ2UtaW5wdXRcIik7XHJcbmNvbnN0IG5ld1Bvc3RDYXB0aW9uSW5wdXQgPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIiNjYXJkLWNhcHRpb24taW5wdXRcIik7XHJcblxyXG5jb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIik7XHJcbmNvbnN0IGNhcmRzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3RcIik7XHJcblxyXG5jb25zdCBwcmV2aWV3TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ByZXZpZXctbW9kYWxcIik7XHJcbmNvbnN0IHByZXZpZXdNb2RhbENsb3NlQnRuID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcclxuY29uc3QgcHJldmlld01vZGFsSW1hZ2VFbCA9IHByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcclxuY29uc3QgcHJldmlld01vZGFsQ2FwdGlvbkVsID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NhcHRpb25cIik7XHJcblxyXG5jb25zdCBlcnJvckVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvclwiKTtcclxuY29uc3QgZXJyb3JNc2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yX19tZXNzYWdlXCIpO1xyXG5cclxuZnVuY3Rpb24gZ2V0Q2FyZEVsZW1lbnQoZGF0YSkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkVGVtcGxhdGUuY29udGVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcclxuICAgICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgY29uc3QgY2FyZFRpdGxlRWwgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xyXG4gICAgY29uc3QgY2FyZEltYWdlRWwgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG5cclxuICAgIGNhcmRJbWFnZUVsLnNyYyA9IGRhdGEubGluaztcclxuICAgIGNhcmRJbWFnZUVsLmFsdCA9IGRhdGEubmFtZTtcclxuICAgIGNhcmRUaXRsZUVsLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG5cclxuICAgIGNvbnN0IGNhcmRMaWtlQnRuRWwgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnRuXCIpO1xyXG4gICAgY2FyZExpa2VCdG5FbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGNhcmRMaWtlQnRuRWwuY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnRuX2FjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGNhcmREZWxldGVCdG5FbCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ0blwiKTtcclxuICAgIGNhcmREZWxldGVCdG5FbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGNhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY2FyZEltYWdlRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBwcmV2aWV3TW9kYWxJbWFnZUVsLnNyYyA9IGRhdGEubGluaztcclxuICAgICAgICBwcmV2aWV3TW9kYWxJbWFnZUVsLmFsdCA9IGRhdGEubmFtZTtcclxuICAgICAgICBwcmV2aWV3TW9kYWxDYXB0aW9uRWwudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgb3Blbk1vZGFsKHByZXZpZXdNb2RhbCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUVzY2FwZShldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgICAgY29uc3Qgb3BlbmVkUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX2lzLW9wZW5lZFwiKTtcclxuICAgICAgICBpZiAob3BlbmVkUG9wdXApIHtcclxuICAgICAgICAgICAgY2xvc2VNb2RhbChvcGVuZWRQb3B1cCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBvcGVuTW9kYWwobW9kYWwpIHtcclxuICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9pcy1vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVFc2NhcGUpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG92ZXJsYXlDbGlja0xpc3RlbmVyKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xvc2VNb2RhbChtb2RhbCkge1xyXG4gICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX2lzLW9wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvdmVybGF5Q2xpY2tMaXN0ZW5lcik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVFc2NhcGUpO1xyXG59XHJcblxyXG5lZGl0UHJvZmlsZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgZWRpdFByb2ZpbGVOYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlTmFtZUVsLnRleHRDb250ZW50O1xyXG4gICAgZWRpdFByb2ZpbGVEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gcHJvZmlsZURlc2NyaXB0aW9uRWwudGV4dENvbnRlbnQ7XHJcbiAgICByZXNldFZhbGlkYXRpb24oXHJcbiAgICAgICAgZWRpdFByb2ZpbGVGb3JtLFxyXG4gICAgICAgIFtlZGl0UHJvZmlsZU5hbWVJbnB1dCwgZWRpdFByb2ZpbGVEZXNjcmlwdGlvbklucHV0XSxcclxuICAgICAgICB2YWxpZGF0aW9uQ29uZmlnXHJcbiAgICApO1xyXG5cclxuICAgIG9wZW5Nb2RhbChlZGl0UHJvZmlsZU1vZGFsKTtcclxufSk7XHJcblxyXG5uZXdQb3N0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBvcGVuTW9kYWwobmV3UG9zdE1vZGFsKTtcclxufSk7XHJcblxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19jbG9zZS1idG5cIikuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XHJcbiAgICBjb25zdCBtb2RhbCA9IGJ1dHRvbi5jbG9zZXN0KFwiLm1vZGFsXCIpO1xyXG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBjbG9zZU1vZGFsKG1vZGFsKSk7XHJcbn0pO1xyXG5cclxuZWRpdFByb2ZpbGVNb2RhbC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uIChldnQpIHtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdChldnQpO1xyXG5cclxuICAgIGNvbnN0IG5ld1Byb2ZpbGVEYXRhID0ge1xyXG4gICAgICAgIG5hbWU6IGVkaXRQcm9maWxlTmFtZUlucHV0LnZhbHVlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUsXHJcbiAgICB9O1xyXG5cclxuICAgIHByb2ZpbGVOYW1lRWwudGV4dENvbnRlbnQgPSBuZXdQcm9maWxlRGF0YS5uYW1lO1xyXG4gICAgcHJvZmlsZURlc2NyaXB0aW9uRWwudGV4dENvbnRlbnQgPSBuZXdQcm9maWxlRGF0YS5kZXNjcmlwdGlvbjtcclxuXHJcbiAgICBjbG9zZU1vZGFsKGVkaXRQcm9maWxlTW9kYWwpO1xyXG59KTtcclxuXHJcbm5ld1Bvc3RNb2RhbC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uIChldnQpIHtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdChldnQpO1xyXG5cclxuICAgIGNvbnN0IG5ld0NhcmREYXRhID0ge1xyXG4gICAgICAgIG5hbWU6IG5ld1Bvc3RDYXB0aW9uSW5wdXQudmFsdWUsXHJcbiAgICAgICAgbGluazogbmV3UG9zdEltYWdlSW5wdXQudmFsdWUsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZ2V0Q2FyZEVsZW1lbnQobmV3Q2FyZERhdGEpO1xyXG4gICAgY2FyZHNMaXN0LnByZXBlbmQoY2FyZEVsZW1lbnQpO1xyXG4gICAgbmV3UG9zdEZvcm0ucmVzZXQoKTtcclxuICAgIGRpc2FibGVkQnRuKG5ld1Bvc3RTdWJtaXRCdG4sIHZhbGlkYXRpb25Db25maWcpO1xyXG5cclxuICAgIGNsb3NlTW9kYWwobmV3UG9zdE1vZGFsKTtcclxufSk7XHJcblxyXG5pbml0aWFsQ2FyZHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBnZXRDYXJkRWxlbWVudChpdGVtKTtcclxuICAgIGNhcmRzTGlzdC5hcHBlbmQoY2FyZEVsZW1lbnQpO1xyXG59KTtcclxuXHJcbmNvbnN0IG92ZXJsYXlDbGlja0xpc3RlbmVyID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxcIikpIHtcclxuICAgICAgICBjbG9zZU1vZGFsKGV2dC50YXJnZXQpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZW5hYmxlVmFsaWRhdGlvbih2YWxpZGF0aW9uQ29uZmlnKTtcclxuIl0sIm5hbWVzIjpbImhpZGVJbnB1dEVycm9yIiwiZm9ybUVsIiwiaW5wdXRFbCIsInZhbGlkYXRpb25Db25maWciLCJlcnJvckVsIiwicXVlcnlTZWxlY3RvciIsImlkIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiaW5wdXRFcnJvckNsYXNzIiwidGV4dENvbnRlbnQiLCJlcnJvckNsYXNzIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJpbnB1dExpc3QiLCJidXR0b25FbCIsInNvbWUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZWRCdG4iLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJhZGQiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJlZGl0UHJvZmlsZUJ0biIsImRvY3VtZW50IiwiZWRpdFByb2ZpbGVNb2RhbCIsImVkaXRQcm9maWxlRm9ybSIsImVkaXRQcm9maWxlTmFtZUlucHV0IiwiZWRpdFByb2ZpbGVEZXNjcmlwdGlvbklucHV0IiwibmV3UG9zdEJ0biIsIm5ld1Bvc3RNb2RhbCIsIm5ld1Bvc3RTdWJtaXRCdG4iLCJuZXdQb3N0Rm9ybSIsInByb2ZpbGVOYW1lRWwiLCJwcm9maWxlRGVzY3JpcHRpb25FbCIsIm5ld1Bvc3RJbWFnZUlucHV0IiwibmV3UG9zdENhcHRpb25JbnB1dCIsImNhcmRUZW1wbGF0ZSIsImNhcmRzTGlzdCIsInByZXZpZXdNb2RhbCIsInByZXZpZXdNb2RhbEltYWdlRWwiLCJwcmV2aWV3TW9kYWxDYXB0aW9uRWwiLCJnZXRDYXJkRWxlbWVudCIsImRhdGEiLCJjYXJkRWxlbWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJjYXJkVGl0bGVFbCIsImNhcmRJbWFnZUVsIiwic3JjIiwibGluayIsImFsdCIsIm5hbWUiLCJjYXJkTGlrZUJ0bkVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRvZ2dsZSIsIm9wZW5Nb2RhbCIsImhhbmRsZUVzY2FwZSIsImV2dCIsImtleSIsIm9wZW5lZFBvcHVwIiwiY2xvc2VNb2RhbCIsIm1vZGFsIiwib3ZlcmxheUNsaWNrTGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidmFsdWUiLCJyZXNldFZhbGlkYXRpb24iLCJmb3JFYWNoIiwicXVlcnlTZWxlY3RvckFsbCIsImJ1dHRvbiIsImNsb3Nlc3QiLCJwcmV2ZW50RGVmYXVsdCIsIm5ld1Byb2ZpbGVEYXRhIiwiZGVzY3JpcHRpb24iLCJwcmVwZW5kIiwicmVzZXQiLCJpdGVtIiwiYXBwZW5kIiwidGFyZ2V0IiwiY29udGFpbnMiLCJzZXRFdmVudExpc3RlbmVycyIsIkFycmF5IiwiZnJvbSIsImNoZWNrSW5wdXRWYWxpZGl0eSIsInNob3dJbnB1dEVycm9yIiwiZXJyb3JNc2ciLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9